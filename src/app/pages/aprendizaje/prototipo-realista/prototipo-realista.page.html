<ion-header class="ion-no-border">
  <ion-toolbar color="dark">
    <ion-title class="pro-title">
      MASTER BUILD <span class="version">v3.0</span>
    </ion-title>
    <ion-buttons slot="end">
      <ion-badge color="tertiary" mode="ios" class="step-counter">
        {{ pasoActual + 1 }} / {{ pasos.length }}
      </ion-badge>
    </ion-buttons>
  </ion-toolbar>
  <div class="pro-progress-container">
    <div class="pro-progress-bar" [style.width.%]="((pasoActual + 1) / pasos.length) * 100"></div>
  </div>
</ion-header>

<ion-content class="pro-content">
  
  <div class="split-layout">

    <div class="left-panel">
      <div class="visor-container">
        <div #threeContainer class="three-canvas"></div>
        
        <div class="hud-overlay">
          <div class="hud-item">
            <ion-icon name="snow-outline"></ion-icon> COOLING: AIO 360mm
          </div>
          <div class="hud-item">
            <ion-icon name="hardware-chip-outline"></ion-icon> STATUS: ASSEMBLY
          </div>
        </div>
      </div>
    </div>

    <div class="right-panel">
      <div class="manual-card-content">
        
        <div class="step-info">
          
          <div class="header-row">
            <ion-badge color="dark" class="phase-badge">
              FASE {{ pasos[pasoActual].fase }}
            </ion-badge>
            <span class="tech-id">OP-CODE: {{ pasoActual + 200 }}</span>
          </div>
          
          <h1 class="step-title">{{ pasos[pasoActual].titulo }}</h1>
          
          <p class="step-desc">
            {{ pasos[pasoActual].descripcion }}
          </p>

          <div class="specs-grid">
            <div class="spec-item">
              <span class="label">Herramienta:</span>
              <span class="value">{{ pasos[pasoActual].herramienta }}</span>
            </div>
            <div class="spec-item">
              <span class="label">Precauci√≥n:</span>
              <span class="value text-warning">{{ pasos[pasoActual].riesgo }}</span>
            </div>
          </div>

          <div class="pro-tip" *ngIf="pasos[pasoActual].tip">
            <div class="tip-icon">
              <ion-icon name="flash"></ion-icon>
            </div>
            <div class="tip-content">
              <strong>EXPERT TIP:</strong> {{ pasos[pasoActual].tip }}
            </div>
          </div>

        </div>

        <div class="navigation-buttons">
          
          <ion-button 
            fill="outline" 
            color="light"
            class="nav-btn"
            (click)="cambiarPaso(-1)" 
            [disabled]="pasoActual === 0">
            <ion-icon name="chevron-back"></ion-icon>
          </ion-button>

          <ion-button 
            expand="block" 
            class="flex-grow action-btn" 
            color="tertiary"
            (click)="cambiarPaso(1)">
            
            <span *ngIf="pasoActual < pasos.length - 1">CONFIRMAR PASO</span>
            <span *ngIf="pasoActual === pasos.length - 1">FINALIZAR BUILD</span>
            <ion-icon slot="end" name="chevron-forward" *ngIf="pasoActual < pasos.length - 1"></ion-icon>
            <ion-icon slot="end" name="rocket" *ngIf="pasoActual === pasos.length - 1"></ion-icon>
          
          </ion-button>

        </div>

      </div>
    </div>

  </div>

</ion-content>